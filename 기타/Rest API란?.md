# Rest API란?

<br>

## API 개발

클라이언트는 서버에게 **요청**을 보내고 서버는 요청을 받아서 **응답**을 준다. 이것이 이루어지려면 서버는 사전에 클라이언트에게 
'여기로 요청을 보내면 이런 응답을, 저기로 요청을 보내면 저런 응답을 줄게'라고 정해놔야한다. 그래야만 클라이언트가 **정확한 곳**에 알맞게 요청을 보낼 수 있다.

**정확한 곳**에 해당하는 주소는 보통 **'서버IP/AAA'** 형태로 이루어져 있고 서버IP뒤에 어떤 문자를 쓰느냐에 따라 다른 기능을 수행하도록 정의한다.

`서버IP/AAA : 로그인`

`서버IP/BBB : 회원가입`

`서버IP/ccc : 회원탈퇴`

즉, 이런 API들을 서버개발자가 개발하고 클라이언트 개발자는 그 API를 사용한다.

<br>

## CRUD

클라이언트의 대부분의 **요청**은 **'CRUD'** 내에서 이루어진다. SNS에 게시글을 올린다고 하면 CRUD를 다음과 같이 정의할 수 있다.

| 문자 | 종류 | 요청 내용 |
|:---:|:---:|:---:|
| C | Create | 게시글을 올리는 요청|
| R | Read | 게시글을 불러오는 요청 |
| U | Update | 게시글을 수정하는 요청 |
| D | Delete | 게시글을 삭제하는 요청 |

각 요청들을 서버개발자가 정해놓은대로 요청하면

| 문자 | 엔드포인트 |
|:---:|:---:|
| C | 서버주소/snsCreate |
| R | 서버주소/snsRead |
| U | 서버주소/snsUpdate |
| D | 서버주소/snsDelete |

다음처럼 할 수 있을것이다.

이렇게 CRUD별로, 각 기능별로 주소를 생성하여 사용하게 되면 주소가 너무 많아지고 관리하기도 어려워지며 CRUD가 체계적으로 나뉘지 않을 수 있다.

체계적인 API관리를 위해 **REST API**가 등장하게 된다

<br>

## REST API

위 내용처럼 체계적으로 관리가 가능한 API를 REST한 API 즉, **RESTful API**라고 부른다.

RESTful API에서는 아래와 같이 CRUD를 일정한 규칙에 따라 사용한다.(해당 규칙들을 **메소드**라고 부른다)

| 문자 | 종류 | 규칙 |
|:---:|:---:|:---:|
| C | Create | POST |
| R | Read | GET |
| U | Update | PUT(전체) / PATCH(일부) |
| D | Delete | DELETE |

다음 규칙에 따라, 위에서 다루었던 SNS에 게시글을 올리는 요청들을 아래와 같이 REST하게 사용할 수 있다.

| 메소드 | 엔드포인트 | 행위 |
|:---:|:---:|:---:|
| POST | 서버주소/sns | 게시글 생성 |
| GET | 서버주소/sns | 게시글 조회 |
| UPDATE | 서버주소/sns/1 | 1번 게시글 수정 |
| DELETE | 서버주소/sns/1 | 1번 게시글 삭제 |

훨씬 더 깔끔하고 체계적임을 확인할 수 있다.

<br>

## 응답상태코드

클라이언트의 요청에 대해 서버가 응답할 때, 성공적으로 요청을 처리했을 경우 '잘 됐다'라는 의미를 전송해야 할 것이다.

하지만, '잘 됐다'라는 표현의 의미는 'Good', '좋아', '처리 완료' 등으로도 동일하게 표현할 수 있다.

이런 서버의 응답또한 체계적으로 통합하기 위해 **응답상태코드**라는 **숫자로 이루어진 코드**를 사용하게 된다.

여러 코드가 있지만 주로 확인할 수 있는 코드는 아래와 같다.

| 상태코드 | 의미 |
|:---:|:---:|
| 200 | 클라이언트의 요청을 정상적으로 수행함 |
| 201 | 클라이언트의 POST or PUT 요청을 정상적으로 수행하였으며 리소스를 생성함 |

| 상태코드 | 의미 |
|:---:|:---:|
| 4xx | 클라이언트의 요청에 문제가 있음 |
| 5xx | 서버에 문제가 있음 |
